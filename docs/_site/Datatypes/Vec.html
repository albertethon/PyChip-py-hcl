<!DOCTYPE html> <html lang="en" dir="auto"> <head><meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5, user-scalable=no"> <meta name="description" content="Vec Description Vector is most commonly used to defined an array of register. Declaration To defined a vector, we use Vec to do so: Vec(&amp;lt;siz..."> <meta name="revised" content="8ac73186dff281ece5caf0d2c3a2f557cde30d5c"> <meta name="author" content="albertethon"> <meta name="generator" content="jekyll-rtd-theme v2.0.10"><meta name="theme-color" content="#2980b9"> <title>Vec 路 PyHCL</title> <meta name="twitter:title" content="Vec 路 PyHCL"> <meta name="twitter:description" content="Vec Description Vector is most commonly used to defined an array of register. Declaration To defined a vector, we use Vec to do so: Vec(&amp;lt;siz..."> <meta name="twitter:card" content="summary"> <meta name="twitter:site" content="@albertethon"> <meta name="twitter:url" content="http://localhost:4000/Datatypes/Vec.html"> <meta name="twitter:creator" content="@jekyll-rtd-theme v2.0.10"> <meta property="og:title" content="Vec 路 PyHCL"> <meta property="og:description" content="Vec Description Vector is most commonly used to defined an array of register. Declaration To defined a vector, we use Vec to do so: Vec(&amp;lt;siz..."> <meta property="og:locale" content="en"> <meta property="og:url" content="http://localhost:4000/Datatypes/Vec.html"> <meta property="og:type" content="article"> <meta property="article:author" content="albertethon"> <meta property="article:published_time" content="2022-07-21T20:29:24+08:00"> <meta property="article:modified_time" content="2022-07-21T20:29:24+08:00"> <script type="application/ld+json"> { "@context": "https://schema.org", "@type": "Article", "mainEntityOfPage": { "@type": "WebPage", "@id": "http://localhost:4000/Datatypes/Vec.html" }, "headline": "Vec 路 PyHCL", "image": [], "author": { "@type": "Person", "name": "albertethon" }, "datePublished": "2022-07-21T20:29:24+08:00", "dateModified": "2022-07-21T20:29:24+08:00", "publisher": { "@type": "", "name": "albertethon", "logo": { "@type": "ImageObject", "url": "" } }, "description": "Vec Description Vector is most commonly used to defined an array of register. Declaration To defined a vector, we use Vec to do so: Vec(&amp;lt;siz..." } </script> <link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="prev" href="http://localhost:4000/Datatypes/Bundle.html"><link rel="next" href="http://localhost:4000/Datatypes/UFix_SFix.html"><link rel="canonical" href="http://localhost:4000/Datatypes/Vec.html"><link rel="icon" type="image/svg+xml" href="/assets/images/favicon.svg"><link rel="icon" type="image/png" href="/assets/images/favicon-16x16.png" sizes="16x16"> <link rel="icon" type="image/png" href="/assets/images/favicon-32x32.png" sizes="32x32"> <link rel="icon" type="image/png" href="/assets/images/favicon-96x96.png" sizes="96x96"><link rel="mask-icon" href="/assets/images/favicon.svg" color="#2980b9"><link rel="apple-touch-icon" href="/assets/images/apple-touch-icon-300x300.jpg"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/rundocs/jekyll-rtd-theme@2.0.10/assets/css/theme.min.css"><script> window.ui = { title: "PyHCL", baseurl: "", i18n: { search_results: "Search Results", search_results_found: "Search finished, found # page(s) matching the search query.", search_results_not_found: "Your search did not match any documents, please make sure that all characters are spelled correctly!" } }; </script> </head> <body class="container"><div class="sidebar-wrap overflow-hidden"> <div class="sidebar height-full overflow-y-scroll overflow-x-hidden"> <div class="header d-flex flex-column p-3 text-center"> <div class="title pb-1"> <a class="h4 no-underline py-1 px-2 rounded-1" href="/" title="PyHCL is a hardware construct language."> <i class="fa fa-home"></i> PyHCL </a> </div> <span class="version"></span> <form class="search pt-2" action="/search.html" method="get" autocomplete="off"> <input class="form-control input-block input-sm" type="text" name="q" placeholder="Search docs..."> </form> </div> <div class="toctree py-2" data-spy="affix" role="navigation" aria-label="main navigation"> <ul> </ul> <a class="caption d-block text-uppercase no-wrap px-2 py-0" href="/AboutPyHCL/"> About Pyhcl </a><ul> <li class="toc level-1 " data-sort="1" data-level="1"> <a class="d-flex flex-items-baseline " href="/AboutPyHCL/FAQ.html">1. FAQ</a> </li> <li class="toc level-1 " data-sort="2" data-level="1"> <a class="d-flex flex-items-baseline " href="/AboutPyHCL/Support.html">2. Support</a> </li> <li class="toc level-1 " data-sort="3" data-level="1"> <a class="d-flex flex-items-baseline " href="/AboutPyHCL/Users.html">3. Users</a> </li></ul> <a class="caption d-block text-uppercase no-wrap px-2 py-0" href="/GettingStarted/"> Getting Started </a><ul> <li class="toc level-1 " data-sort="1" data-level="1"> <a class="d-flex flex-items-baseline " href="/GettingStarted/GettingStarted.html">1. Getting Started</a> </li> <li class="toc level-1 " data-sort="2" data-level="1"> <a class="d-flex flex-items-baseline " href="/GettingStarted/Motivation.html">2. Motivation</a> </li> <li class="toc level-1 " data-sort="3" data-level="1"> <a class="d-flex flex-items-baseline " href="/GettingStarted/Presentation.html">3. Presentation</a> </li> <li class="toc level-1 " data-sort="4" data-level="1"> <a class="d-flex flex-items-baseline " href="/GettingStarted/Python%20Guide.html">4. Python Guide</a> </li> <li class="toc level-1 " data-sort="5" data-level="1"> <a class="d-flex flex-items-baseline " href="/GettingStarted/Help%20for%20VHDL%20people.html">5. Help for VHDL people</a> </li> <li class="toc level-1 " data-sort="6" data-level="1"> <a class="d-flex flex-items-baseline " href="/GettingStarted/Cheatsheets.html">6. Cheatsheets</a> </li></ul> <a class="caption d-block text-uppercase no-wrap px-2 py-0" href="/Datatypes/"> Data types </a><ul> <li class="toc level-1 " data-sort="" data-level="1"> <a class="d-flex flex-items-baseline " href="/Datatypes/Introduction.html">Introduction</a> </li> <li class="toc level-1 " data-sort="1" data-level="1"> <a class="d-flex flex-items-baseline " href="/Datatypes/Bool.html">1. Bool</a> </li> <li class="toc level-1 " data-sort="2" data-level="1"> <a class="d-flex flex-items-baseline " href="/Datatypes/Bits.html">2. Bits</a> </li> <li class="toc level-1 " data-sort="3" data-level="1"> <a class="d-flex flex-items-baseline " href="/Datatypes/UInt_SInt.html">3. UInt/SInt</a> </li> <li class="toc level-1 " data-sort="4" data-level="1"> <a class="d-flex flex-items-baseline " href="/Datatypes/PyEnum.html">4. PyEnum</a> </li> <li class="toc level-1 " data-sort="5" data-level="1"> <a class="d-flex flex-items-baseline " href="/Datatypes/Bundle.html">5. Bundle</a> </li> <li class="toc level-1 current" data-sort="6" data-level="1"> <a class="d-flex flex-items-baseline current" href="/Datatypes/Vec.html">6. Vec</a> </li> <li class="toc level-1 " data-sort="7" data-level="1"> <a class="d-flex flex-items-baseline " href="/Datatypes/UFix_SFix.html">7. UFix/SFix</a> </li> <li class="toc level-1 " data-sort="8" data-level="1"> <a class="d-flex flex-items-baseline " href="/Datatypes/Floating.html">8. Floating</a> </li> <li class="toc level-1 " data-sort="9" data-level="1"> <a class="d-flex flex-items-baseline " href="/Datatypes/AFix.html">9. AFix</a> </li></ul> <a class="caption d-block text-uppercase no-wrap px-2 py-0" href="/Structuring/"> Structuring </a><ul> <li class="toc level-1 " data-sort="" data-level="1"> <a class="d-flex flex-items-baseline " href="/Structuring/Structuring.html">Structuring</a> </li></ul> <a class="caption d-block text-uppercase no-wrap px-2 py-0" href="/Semantic/"> Semantic </a><ul> <li class="toc level-1 " data-sort="" data-level="1"> <a class="d-flex flex-items-baseline " href="/Semantic/Semantic.html">Semantic</a> </li></ul> <a class="caption d-block text-uppercase no-wrap px-2 py-0" href="/SequentialLogic/"> Sequential Logic </a><ul> <li class="toc level-1 " data-sort="" data-level="1"> <a class="d-flex flex-items-baseline " href="/SequentialLogic/SequentialLogic.html">Sequential Logic</a> </li></ul> <a class="caption d-block text-uppercase no-wrap px-2 py-0" href="/DesignErrors/"> About Pyhcl </a><ul> </ul> <a class="caption d-block text-uppercase no-wrap px-2 py-0" href="/OtherFeatures/"> Other Features </a><ul> <li class="toc level-1 " data-sort="" data-level="1"> <a class="d-flex flex-items-baseline " href="/OtherFeatures/OtherFeatures.html">Other Features</a> </li></ul> <a class="caption d-block text-uppercase no-wrap px-2 py-0" href="/Libraries/"> About Pyhcl </a><ul> </ul> <a class="caption d-block text-uppercase no-wrap px-2 py-0" href="/FormalVerification/"> Formal Verification </a><ul> </ul> <a class="caption d-block text-uppercase no-wrap px-2 py-0" href="/Examples/"> Examples </a><ul> <li class="toc level-1 " data-sort="" data-level="1"> <a class="d-flex flex-items-baseline " href="/Examples/examples.html">Examples</a> </li></ul> <a class="caption d-block text-uppercase no-wrap px-2 py-0" href="/Legacy/"> About Pyhcl </a><ul> </ul> <a class="caption d-block text-uppercase no-wrap px-2 py-0" href="/DevelopersArea/"> About Pyhcl </a><ul> </ul> </div> </div> </div> <div class="content-wrap"> <div class="header d-flex flex-justify-between p-2 hide-lg hide-xl" aria-label="top navigation"> <button id="toggle" aria-label="Toggle menu" class="btn-octicon p-2 m-0 text-white" type="button"> <i class="fa fa-bars"></i> </button> <div class="title flex-1 d-flex flex-justify-center"> <a class="h4 no-underline py-1 px-2 rounded-1" href="/">PyHCL</a> </div> </div> <div class="content p-3 p-sm-5"> <div class="navigation-top d-flex flex-justify-between"> <ul class="breadcrumb" role="navigation" aria-label="breadcrumbs navigation"> <li class="breadcrumb-item"> <a class="no-underline" href="/" title="/"> <i class="fa fa-home"></i> </a> </li><li class="breadcrumb-item" ><a href="/Datatypes/">Datatypes</a></li><li class="breadcrumb-item" aria-current="page">Vec.md</li></ul> <a class="edit" href="https://github.com/albertethon/PyChip-py-hcl/edit/gh-pages/Datatypes/Vec.md" title="Edit on GitHub" rel="noreferrer" target="_blank"> <i class="fa fa-edit"></i> </a> </div> <hr> <div role="main" itemscope="itemscope" itemtype="https://schema.org/Article"> <div class="markdown-body" itemprop="articleBody"> <h1 id="vec">Vec</h1> <h2 id="description">Description</h2> <p>Vector is most commonly used to defined an array of register.</p> <h2 id="declaration">Declaration</h2> <p>To defined a vector, we use Vec to do so:</p> <div class="language-python highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="n">Vec</span><span class="p">(</span><span class="o">&lt;</span><span class="n">size</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">cdatatype</span><span class="o">&gt;</span><span class="p">)</span>
</code></pre>  </div></div> <p>size indicate the size of the vector, cdatatype indicate the datatype of the vector, and it must be a basic datatype(U, S, Bool). For example, we define an array of register:</p> <div class="language-python highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="n">rarray</span> <span class="o">=</span> <span class="n">Reg</span><span class="p">(</span><span class="n">Vec</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">U</span><span class="p">.</span><span class="n">w</span><span class="p">(</span><span class="mi">16</span><span class="p">)))</span>	<span class="c1"># A 16-bit 4 length unsigned integer register array
</span></code></pre>  </div></div> <p>We could also index the register array with the operator [], as the built-in operator of Python:</p> <div class="language-python highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="c1"># rarray = [U(0), U(1), U(2), U(3)]
</span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">):</span>
  <span class="n">rarray</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;&lt;=</span> <span class="n">U</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</code></pre>  </div></div> <p>Another commonly used of Vec is using in I/O ports. We define a input port a using Vec:</p> <div class="language-python highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="n">a</span><span class="o">=</span><span class="n">Input</span><span class="p">(</span><span class="n">Vec</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">U</span><span class="p">.</span><span class="n">w</span><span class="p">(</span><span class="mi">16</span><span class="p">)))</span>
</code></pre>  </div></div> <p>Which is convenience for multiple inputs or outputs.</p> <blockquote> <p>Vec in PyHCL would translate as the array definition in FIRRTL, and compile to Verilog. However, the array features may lost in Verilog code. For example, the vector of input port a above, after compile to Verilog:</p> <div class="language-python highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="nb">input</span>  <span class="p">[</span><span class="mi">15</span><span class="p">:</span><span class="mi">0</span><span class="p">]</span> <span class="n">io_a_0</span><span class="p">,</span>
<span class="nb">input</span>  <span class="p">[</span><span class="mi">15</span><span class="p">:</span><span class="mi">0</span><span class="p">]</span> <span class="n">io_a_1</span><span class="p">,</span>
<span class="nb">input</span>  <span class="p">[</span><span class="mi">15</span><span class="p">:</span><span class="mi">0</span><span class="p">]</span> <span class="n">io_a_2</span><span class="p">,</span>
<span class="nb">input</span>  <span class="p">[</span><span class="mi">15</span><span class="p">:</span><span class="mi">0</span><span class="p">]</span> <span class="n">io_a_3</span><span class="p">,</span>
</code></pre>  </div> </div> <p>We could see that it has divide into 4 individual ports.</p> <h2 id="operations">Operations</h2> <h3 id="comparison">Comparison</h3> <h3 id="type-cast">Type cast</h3> <h3 id="misc">Misc</h3> <h3 id="lib-helper-functions">Lib helper functions</h3> </blockquote> </div> </div> <div class="navigation-bottom d-flex flex-justify-between py-3" role="navigation" aria-label="footer navigation"> <div class="prev"><a href="/Datatypes/Bundle.html" class="btn" title="Bundle" accesskey="p" rel="prev"> <i class="fa fa-arrow-circle-left"></i> Previous </a></div> <div class="next"><a href="/Datatypes/UFix_SFix.html" class="btn" title="UFix/SFix" accesskey="n" rel="next"> Next <i class="fa fa-arrow-circle-right"></i> </a></div> </div><hr> <div class="copyright text-center text-gray" role="contentinfo"> <i class="fa fa-copyright"></i> <span class="time">2022,</span> <a class="text-gray" href="https://github.com/albertethon" rel="noreferrer" target="_blank">albertethon</a> Revision <a class="text-gray" href="https://github.com/albertethon/PyChip-py-hcl/commit/8ac73186dff281ece5caf0d2c3a2f557cde30d5c" title="8ac73186dff281ece5caf0d2c3a2f557cde30d5c" rel="noreferrer" target="_blank">8ac7318</a> <br> <div class="generator"> Built with <a href="https://pages.github.com" rel="noreferrer" target="_blank" title="github-pages v209">GitHub Pages</a> using a <a href="https://github.com/rundocs/jekyll-rtd-theme" rel="noreferrer" target="_blank" title="jekyll-rtd-theme v2.0.10">theme</a> provided by <a href="https://rundocs.io" rel="noreferrer" target="_blank">RunDocs</a>. </div> </div> </div> </div> <div class="addons-wrap d-flex flex-column overflow-y-auto"> <div class="status d-flex flex-justify-between p-2"> <div class="title p-1"> <i class="fa fa-book"></i> PyHCL </div> <div class="branch p-1"> <span class="name"> gh-pages </span> <i class="fa fa-caret-down"></i> </div> </div> <div class="addons d-flex flex-column height-full p-2 d-none"> <dl> <dt>GitHub</dt> <dd> <a href="https://github.com/albertethon/PyChip-py-hcl" title="Stars: "> <i class="fa fa-github"></i> Homepage </a> </dd> <dd> <a href="" title="Open issues: "> <i class="fa fa-question-circle-o"></i> Issues </a> </dd> <dd> <a href="https://github.com/albertethon/PyChip-py-hcl/zipball/gh-pages" title="Size: Kb"> <i class="fa fa-download"></i> Download </a> </dd> </dl> <hr> <div class="license f6 pb-2"> This <a href="/" title="PyHCL">Software</a> is under the terms of <a href="https://github.com/albertethon/PyChip-py-hcl">The Unlicense</a>. </div> </div> </div> <script src="https://cdn.jsdelivr.net/gh/rundocs/jekyll-rtd-theme@2.0.10/assets/js/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/gh/rundocs/jekyll-rtd-theme@2.0.10/assets/js/theme.min.js"></script> </body> </html>